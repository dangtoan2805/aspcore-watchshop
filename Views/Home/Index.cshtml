@using System.Globalization;
@{
    ViewData["Title"] = "Home Page";
}
@section Css{
    <link href="~/css/home.css" rel="stylesheet" />
    <link href="~/css/product.css" rel="stylesheet" />
}
<div id="vt-main">
    <!--Slider-->
    <div id="carouselIndicators" class="carousel slide" data-ride="carousel">
        <ol class="carousel-indicators">
            <li data-target="#carouselIndicators" data-slide-to="0" class="active"></li>
            <li data-target="#carouselIndicators" data-slide-to="1"></li>
            <li data-target="#carouselIndicators" data-slide-to="2"></li>
        </ol>
        <div class="vt-outer vt-slider">
            <div class="vt-inner">
                <div class="vt-corp">
                    <div class="carousel-inner">
                        <div class="carousel-item active">
                            <img class="d-block w-100" src="~/slider//slider_1.jpg" alt="First slide">
                        </div>
                        <div class="carousel-item">
                            <img class="d-block w-100" src="~/slider//slider_2.jpg" alt="Second slide">
                        </div>
                        <div class="carousel-item">
                            <img class="d-block w-100" src="~/slider//slider_3.jpg" alt="Third slide">
                        </div>
                    </div>
                </div>
            </div>
        </div>    
        <a class="carousel-control-prev" href="#carouselIndicators" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#carouselIndicators" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>
    <!--Main-->
    <div class="container pt-2">
        <div class="pt-md-3 pt-2 text-center">
            <h4 class="vt-title">Sản phẩm khuyến mãi</h4>
            <div class="row">
                @foreach (var p in ViewBag.PromotionWatch)
                {
                var isSale = p.Promotion > 0 ? true : false;
                <div class="col-lg-3 col-6">
                    <div class="vt-product">
                        <a href="/Product/ProductDetail?id=@p.ID">
                            <div class="vt-product-img">
                                <img src="~/product/@p.Image" alt="Card image cap">
                                @{var hidden = isSale ? "" : "vt-hidden" ;}
                                <img class="@hidden" src="~/images/sale.png" />
                            </div>
                            <div class="vt-product-content">
                                <h5 class="vt-product-name pt-1">@p.Name</h5>
                                <div >
                                    @{var price = p.Price.ToString("#,###", CultureInfo.GetCultureInfo("vi-VN").NumberFormat); }
                                    @if (isSale){
                                         var current = (p.Price * (1 - (p.Promotion / 100))).ToString("#,###", CultureInfo.GetCultureInfo("vi-VN").NumberFormat);
                                        <p class="vt-price">@current đ</p>
                                    }
                                    else
                                    {
                                        <p class="vt-price">@price đ</p>
                                    }
                                    <del class="@hidden" >@price đ</del>
                                </div>
                            </div>
                        </a>  
                    </div>
                </div>
                }
            </div>
            <a href="/Product/Promotions" class="vt-more">Xem thêm</a>
        </div>
        <hr class="vt-line"  />
        <div class="pt-md-3 pt-2 text-center">
            <h4 class="vt-title">Đồng hồ Nam</h4>
            <div class="row">
                @foreach (var p in ViewBag.MenWatch)
                {
                var isSale = p.Promotion > 0 ? true : false;
                <div class="col-lg-3 col-6">
                    <div class="vt-product">
                        <a href="/Product/ProductDetail?id=@p.ID">
                            <div class="vt-product-img">
                                <img src="~/product/@p.Image" alt="Card image cap">
                                @{var hidden = isSale ? "" : "vt-hidden" ;}
                                <img class="@hidden" src="~/images/sale.png" />
                            </div>
                            <div class="vt-product-content">
                                <h5 class="vt-product-name pt-1">@p.Name</h5>
                                <div>
                                    @{var price = p.Price.ToString("#,###", CultureInfo.GetCultureInfo("vi-VN").NumberFormat); }
                                    @if (isSale){
                                         var current = (p.Price * (1 - (p.Promotion / 100))).ToString("#,###", CultureInfo.GetCultureInfo("vi-VN").NumberFormat);
                                        <p class="vt-price">@current đ</p>
                                    }
                                    else
                                    {
                                        <p class="vt-price">@price đ</p>
                                    }
                                    <del class="@hidden" >@price đ</del>
                                </div>
                            </div>
                        </a>  
                    </div>
                </div>
                }
            </div>
            <a href="/Product/Men" class="vt-more">Xem thêm</a>
        </div>
        <hr class="vt-line" />
        <div class="pt-md-3 pt-2 text-center">
            <h4 class="vt-title">Đồng hồ Nữ</h4>
            <div class="row">
                @foreach (var p in ViewBag.WomenWatch)
                {
                   var isSale = p.Promotion > 0 ? true : false;
                <div class="col-lg-3 col-6">
                    <div class="vt-product">
                        <a href="/Product/ProductDetail?id=@p.ID">
                            <div class="vt-product-img">
                                <img src="~/product/@p.Image" alt="Card image cap">
                                @{var hidden = isSale ? "" : "vt-hidden" ;}
                                <img class="@hidden" src="~/images/sale.png" />
                            </div>
                            <div class="vt-product-content">
                                <h5 class="vt-product-name pt-1">@p.Name</h5>
                                <div>
                                    @{var price = p.Price.ToString("#,###", CultureInfo.GetCultureInfo("vi-VN").NumberFormat); }
                                    @if (isSale){
                                         var current = (p.Price * (1 - (p.Promotion / 100))).ToString("#,###", CultureInfo.GetCultureInfo("vi-VN").NumberFormat);
                                        <p class="vt-price">@current đ</p>
                                    }
                                    else
                                    {
                                        <p class="vt-price">@price đ</p>
                                    }
                                    <del class="@hidden" >@price đ</del>
                                </div>
                            </div>
                        </a>  
                    </div>
                </div>
                }
            </div>
            <a href="/Product/Women" class="vt-more">Xem thêm</a>
        </div>
        <hr class="vt-line" />
    </div>
    <!--Category-->
    <div class="container pt-2 text-center">
        <h4 class="vt-title">Danh mục sản phẩm</h4>
        <div class="row">
            <div class="col pr-0">
                <div class="vt-banner">
                    <a class="vt-banner-text" href="/Product/Men">Đồng hồ nam</a>
                    <div class="vt-outer">
                        <div class="vt-inner">
                            <div class="vt-img vt-corp">
                                <img src="~/slider/banner_men.jpg" />
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col pl-0">
                <div class="vt-banner">
                    <a class="vt-banner-text" href="/Product/Women">Đồng hồ nữ</a>
                    <div class="vt-outer">
                        <div class="vt-inner">
                            <div class="vt-img vt-corp">
                                <img src="~/slider/banner_women.jpg" />
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-12">
                <div class="vt-banner">
                    <a class="vt-banner-text" href="/Product/Accessories">Phụ kiện</a>
                    <div class="vt-outer vt-slider">
                        <div class="vt-inner">
                            <div class="vt-img vt-corp">
                                <img src="~/slider/banner_cuff.jpg" />
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
